(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{191:function(e,t){},217:function(e,t,n){},343:function(e){e.exports=JSON.parse('{"addCase":"Lis\xe4\xe4 uusi case","addDifferential":"Lis\xe4\xe4 uusi diffi","addDifferentialGroup":"Lis\xe4\xe4 uusi diffiryhm\xe4","addConclusionSubProcedure":"Luo casen loppudiagnoosialakohta","addTextSubProcedure":"Luo uusi tekstialakohta","addInterviewSubProcedure":"Luo uusi pohdinta-alakohta","addOptionGroup":"Lis\xe4\xe4 uusi kysymysryhm\xe4","addOption":"Lis\xe4\xe4 uusi kysymys","addProcedure":"Lis\xe4\xe4 uusi toimenpide","anamnesis":"Anamneesi","buttonAddFinalDiagnosis":"+ Lis\xe4\xe4 loppudiagnoosi","buttonAddNewInterview":"+ Lis\xe4\xe4 pohdinta","buttonAddNewQuestion":"+ Lis\xe4\xe4 kysymys","buttonAddNewText":"+ Lis\xe4\xe4 teksti","buttonAddNewOptionGroup":"+ Lis\xe4\xe4 kysymysryhm\xe4","buttonAddNewOption":"+ Lis\xe4\xe4 kysymys","buttonEdit":"Muokkaa","buttonHideCaseFromStudents":"Piilota case opiskelijoilta","buttonShowCaseToStudents":"N\xe4yt\xe4 case opiskelijoille","buttonNewCase":"+ Lis\xe4\xe4 uusi case","buttonNewDifferential":"+ Lis\xe4\xe4 uusi diffi","buttonNewDifferentialGroup":"+ Lis\xe4\xe4 uusi diffiryhm\xe4","buttonNewProcedure":"+ Lis\xe4\xe4 uusi toimenpide","buttonNewSubProcedure":"+ Lis\xe4\xe4 uusi alakohta","buttonRemove":"Poista","buttonSaveAnamneesi":"P\xe4ivit\xe4 anamneesi","buttonSave":"Tallenna","buttonSearch":"Etsi","buttonSubmit":"Lis\xe4\xe4","buttonUpdate":"P\xe4ivit\xe4","caseAnamnesis":"Anamneesi","caseDifferentials":"Diffit","caseHidden":"Opiskelijoilta piilotetut caset","casePlayable":"Pelattavissa olevat caset","caseProcedures":"Toimenpiteet","caseTitle":"Casen nimi","caseAddError":"VIRHE! Uutta casea ei voitu luoda","caseAddSuccess":"Case luotu onnistuneesti","caseUpdateError":"VIRHE! Casen p\xe4ivitt\xe4minen ep\xe4onnistui","caseUpdateSuccess":"Case p\xe4ivitetty onnistuneesti","caseTitleInstruction":"Muokattuasi otsikkoa, paina Enteria tallentaaksesi muutokset","copy":"Kopioi","description":"Kuvaus","deleteCaseConfirmation":"Haluatko varmasti poistaa t\xe4m\xe4n casen?","deleteCaseSuccess":"Casen poistaminen onnistui","deleteCaseError":"VIRHE! Casen poisto ep\xe4onnistui.","deleteDifferentialUnderCaseConfirmation":"Haluatko varmasti poistaa t\xe4m\xe4n diffin t\xe4st\xe4 casesta?","deleteDifferentialGroupUnderCaseConfirmation":"Haluatko varmasti poistaa t\xe4m\xe4n diffiryhm\xe4n t\xe4st\xe4 casesta?","deleteProcedureUnderCaseConfirmation":"Haluatko varmasti poistaa t\xe4m\xe4n toimenpiteen t\xe4st\xe4 casesta?","deleteDifferentialUnderCaseSuccess":"Diffin poistaminen casesta onnistui","deleteDifferentialUnderCaseError":"VIRHE! Diffin poisto casesta ep\xe4onnistui.","deleteDifferentialGroupUnderCaseSuccess":"Diffiryhm\xe4n poistaminen casesta onnistui","deleteDifferentialGroupUnderCaseError":"VIRHE! Diffiryhm\xe4n poisto casesta ep\xe4onnistui.","deleteProcedureUnderCaseSuccess":"Toimenpiteen poistaminen casesta onnistui","deleteProcedureUnderCaseError":"VIRHE! Toimenpiteen poisto casesta ep\xe4onnistui.","Differentials":"Diffit","differentialAddSuccess":"Diffi lis\xe4tty onnistuneesti","differentialAddError":"VIRHE! Valittu diffi on jo aiemmin lis\xe4tty caseen.","differentialGroupUpdateSuccess":"Diffiryhm\xe4 lis\xe4tty onnistuneesti","differentialGroupUpdateError":"VIRHE! Valittu diffiryhm\xe4 on jo aiemmin lis\xe4tty caseen.","differentialNameInstruction":"Voit muokata t\xe4t\xe4 menem\xe4ll\xe4 tietopankkiin","differentialProcedure":"Toimenpide, jonka j\xe4lkeen diffin poissulkeminen on mahdollista","differentialUpdateSuccess":"Diffi p\xe4ivitetty onnistuneesti","differentialUpdateError":"VIRHE! Diffi\xe4 ei voitu p\xe4ivitt\xe4","edit":"Muokkaa","editProcedure":"Muokkaa toimenpidett\xe4","fileBank":"Tiedostopankki","frontpageTitle":"Etusivu","frontpageText":"Tervetuloa! \\n\\n Valitse alta case, jota haluat pelata. Peliohjeet l\xf6ytyv\xe4t navigointipalkista.","gameInstructions":"Pelin tarkoitus on opetella taudinpurkaukseen tarvittavaa ajattelumallia. Yrit\xe4 mietti\xe4, mik\xe4 olisi paras j\xe4rjestys suorittaa pelin toimenpiteet oikeaan diagnoosiin p\xe4\xe4st\xe4ksesi. Pelin toimenpiteet eiv\xe4t ole toimenpidelistassa oikeassa suoritusj\xe4rjestyksess\xe4. V\xe4\xe4ri\xe4 diffej\xe4 on helpointa sulkea pois heti, kun voit varmuudella tehd\xe4 niin. \\n\\n Edistymisesi casessa tallentuu automaattisesti, joten voit poistua v\xe4lill\xe4 Taudinpurkauspelist\xe4 ja tulla my\xf6hemmin jatkamaan casen selvitt\xe4mist\xe4. N\xe4et edistymisesi casessa etusivulla.","giveNumber":"Sy\xf6t\xe4 numero...","goToProcedure":"Siirry toimenpiteeseen","hideCase":"Piilota opiskelijoilta","howToPlay":"Peliohjeet","languageEnglish":"English","languageFinnish":"Suomi","logOut":"Kirjaudu ulos","nameOfTheGame":"Taudinpurkauspeli","next":"Seuraava","of":"/","optionAddError":"VIRHE! Valittu kysymys on jo aiemmin lis\xe4tty caseen.","optionAddSuccess":"Kysymyksen lis\xe4\xe4minen onnistui","optionGroupAddError":"VIRHE! Valittu kysymysryhm\xe4 on jo aiemmin lis\xe4tty caseen.","optionGroupAddSuccess":"Kysymysryhm\xe4n lis\xe4\xe4minen onnistui","page":"Sivu","previous":"Edellinen","privacyNotice":"Tietosuojailmoitus","procedureAddError":"VIRHE! Toimenpiteen lis\xe4ys ep\xe4onnistui","procedureAddSuccess":"Toimenpiteen lis\xe4ys onnistui","procedurePriority":"Toimenpiteen t\xe4rkeysj\xe4rjestys","procedureTitle":"Toimenpiteen nimi","procedureUpdateError":"VIRHE! Toimenpiteen p\xe4ivitys ep\xe4onnistui","procedureUpdateSuccess":"Toimenpiteen p\xe4ivitys onnistui","procedure":"Toimenpide","procedures":"Toimenpiteet","required":"Vaadittu vastaus","searchByTitle":"Etsi nimell\xe4","selectDifferential":"Valitse diffi...","selectLanguage":"Valitse kieli","subProcedureDifferential":"Casen ratkaiseva diffi","subProcedurePriority":"Alakohdan t\xe4rkeysj\xe4rjestys","subProcedureAddError":"VIRHE! Valittu alakohta on jo aiemmin lis\xe4tty caseen.","subProcedureAddSuccess":"Toimenpiteen alakohta lis\xe4tty onnistuneesti","subProcedureUpdateError":"VIRHE! Alakohdan muokkaaminen ep\xe4onnistui.","subProcedureUpdateSuccess":"Toimenpiteen alakohdan muokkaaminen onnistui","subProcedures":"Toimenpiteen alakohdat","text":"Teksti","textToAdd":"Teksti","title":"Nimi","updateSubProcedure":"P\xe4ivit\xe4 toimenpiteen alakohtaa","userInformation":"K\xe4ytt\xe4jien seuranta","userProfile":"K\xe4ytt\xe4j\xe4tiedot","voluntary":"Vapaaehtoinen vastaus","warningShort":"Liian lyhyt","warningLong":"Liian pitk\xe4","warningRequired":"Vaadittu tieto","warningPositiveInteger":"Prioriteetin tulee olla positiivinen kokonaisluku","write":"Kirjoita...","wrong":"V\xe4\xe4r\xe4 vastaus"}')},344:function(e){e.exports=JSON.parse('{"addCase":"Add a new case","addDifferential":"Add a new differential","addDifferentialGroup":"Add a new differential group","addConclusionSubProcedure":"Add a final diagnosis for this case","addTextSubProcedure":"Add a new text subprocedure","addInterviewSubProcedure":"Add a new interview subprocedure","addOptionGroup":"Add a new option group","addOption":"Add a new option","addProcedure":"Add a new procedure","anamnesis":"Anamnesis","buttonAddFinalDiagnosis":"+ Add final diagnosis","buttonAddNewInterview":"+ Add new multichoice","buttonAddNewQuestion":"+ Add new question","buttonAddNewText":"+ Add new text","buttonAddNewOptionGroup":"+ Add new option group","buttonAddNewOption":"+ Add new option","buttonEdit":"Edit","buttonHideCaseFromStudents":"Hide case from students","buttonShowCaseToStudents":"Show case to students","buttonNewCase":"+ Add new case","buttonNewDifferential":"+ Add new differential","buttonNewDifferentialGroup":"+ Add new differential group","buttonNewProcedure":"+ Add new procedure","buttonNewSubProcedure":"+ Add new sub procedure","buttonRemove":"Remove","buttonSaveAnamneesi":"Update anamnesis","buttonSave":"Save","buttonSearch":"Search","buttonSubmit":"Submit","buttonUpdate":"Update","caseAnamnesis":"Anamnesis","caseAnamnesisInstruction":"After editing the Anamnesis, press Enter to save","caseDifferentials":"Differentials","caseHidden":"Cases hidden from students","casePlayable":"Playable cases","caseProcedures":"Procedures","caseTitle":"Case title","caseTitleInstruction":"Press enter after you have made the changes","caseAddError":"ERROR! Could not add the case","caseAddSuccess":"Case added successfully","caseUpdateError":"ERROR! Could not update case","caseUpdateSuccess":"Case was updated successfully","copy":"Copy","description":"Description","deleteCaseConfirmation":"Are you sure you want to delete this case?","deleteCaseSuccess":"Case deleted successfully","deleteCaseError":"ERROR! Could not delete case.","deleteDifferentialUnderCaseConfirmation":"Are you sure you want to delete this differential from this case?","deleteDifferentialGroupUnderCaseConfirmation":"Are you sure you want to delete this differential group from this case?","deleteProcedureUnderCaseConfirmation":"Are you sure you want to delete this procedure from this case?","deleteDifferentialUnderCaseSuccess":"Successfully deleted differential from this case","deleteDifferentialUnderCaseError":"ERROR! Could not delete differential from this case","deleteDifferentialGroupUnderCaseSuccess":"Successfully deleted differential group from this case","deleteDifferentialGroupUnderCaseError":"ERROR! Could not delete differential group from this case","deleteProcedureUnderCaseSuccess":"Successfully deleted procedure from this case","deleteProcedureUnderCaseError":"ERROR! Could not delete procedure from this case","Differentials":"Differentials","differentialAddSuccess":"Differential was added succesfully","differentialAddError":"ERROR! The differential already exists in this case.","differentialGroupUpdateSuccess":"Differential was added successfully","differentialGroupUpdateError":"ERROR! The differential already exists in this case.","differentialNameInstruction":"You can edit this by going to database","differentialProcedure":"Procedure, after which the exclusion of a differential is possible","differentialUpdateSuccess":"Differential was updated successfully","differentialUpdateError":"ERROR! Could not update the differential","edit":"Edit","editProcedure":"Edit procedure","fileBank":"Filebank","frontpageText":"Welcome! \\n \\n Select the case you want to play. The game instructions can be found in navigation bar.","frontpageTitle":"Front page","gameInstructions":"The goal of this game is to learn the procedure to handle disease outbreaks. Try to think what would be the best order to execute the operations to come to the right diagnosis. The operations are not in the right order at the operations list. It\'s easiest to rule out wrong diffs whenever you\'re sure it\'s the right call. \\n\\n Your progress is saved automatically, so you can leave the game and continue later where you left off. You can see your progress with the case on the front page.","giveNumber":"Give a number...","goToProcedure":"Go to procedure","hideCase":"Hide from students","howToPlay":"How to play","languageEnglish":"English","languageFinnish":"Suomi","logOut":"Log out","nameOfTheGame":"Taudinpurkauspeli","next":"Next","of":"of","optionAddError":"ERROR! Option already exists in this case","optionAddSuccess":"Option added successfully","optionGroupAddError":"ERROR! Option group already exists in this case","optionGroupAddSuccess":"Option group added successfully","page":"Page","previous":"Previous","privacyNotice":"Privacy notice","procedureAddError":"ERROR! Could not add a procedure","procedureAddSuccess":"Procedure added successfully","procedurePriority":"Procedure priority","procedureTitle":"Procedure title","procedure":"Procedure","procedures":"Procedures","procedureUpdateError":"ERROR! Could not update the procedure","procedureUpdateSuccess":"Procedure was updated successfully","required":"Required answer","searchByTitle":"Search by title","selectDifferential":"Select differential...","selectLanguage":"Select language","subProcedureDifferential":"Differential that solves the case","subProcedurePriority":"Subprocedure priority","subProcedureAddError":"ERROR! The subprocedure already exists in this case.","subProcedureAddSuccess":"Subprocedure was added succesfully","subProcedureUpdateError":"ERROR! Could not update the subprocedure.","subProcedureUpdateSuccess":"Subprocedure was updated succesfully","subProcedures":"Sub Procedures","text":"Text","textToAdd":"Text","title":"Title","updateSubProcedure":"Update subprocedure","userInformation":"Users","userProfile":"Profile","voluntary":"Voluntary answer","warningShort":"Too short","warningLong":"Too long","warningRequired":"Required information","warningPositiveInteger":"Priority must be a positive integer","write":"Write...","wrong":"Wrong answer"}')},357:function(e,t){},358:function(e,t){},359:function(e,t){},360:function(e,t){},361:function(e,t){},364:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(46),c=n.n(i),s=n(12),o=n(193),u=(n(217),n(218),n(34)),d=n(17),l=n(19),b=n(6),p=n.n(b),j=n(18),f=n.n(j),O=n(21),h=n(379),m=null,x=function(){return{headers:{Authorization:m}}},v=function(){return localStorage.getItem("i18nextLng")||"fi"},y=function(){var e=Object(h.a)().t;return O.d().min(2,e("warningShort")).max(999,e("warningLong")).required(e("warningRequired"))},E=function(){var e=Object(h.a)().t;return O.b().typeError(e("warningPositiveInteger")).required(e("warningRequired")).positive(e("warningPositiveInteger")).integer(e("warningPositiveInteger"))},g="/api/cases",S=function(){return f.a.get("".concat(g,"/").concat(v()),x()).then((function(e){return e.data}))},w=function(e){return f.a.post("".concat(g,"/").concat(v()),e,x()).then((function(e){return e.data}))},C=function(e){return f.a.put("".concat(g,"/").concat(e.id,"/").concat(v()),e,x())},I=function(e){return f.a.delete("".concat(g,"/").concat(e),x()).then((function(e){return e.data}))},P=n(143),R=(n(341),n(1)),N=function(e){P.b.error(e,{position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},k=function(e){P.b.success(e,{position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},U=function(){return Object(R.jsx)(P.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!0})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_CASES":return t.data;case"NEW_CASE":return[].concat(Object(l.a)(e),[t.data]);case"REMOVE_CASE":return e.filter((function(e){return e.id!==t.data}));case"UPDATE_CASE":return e.map((function(e){return e.id!==t.data.id?e:t.data}));default:return e}},D=n(376),A=n(377),G=n(374),L=n(139),_=n(106),F=n(105),V=n(197);_.a.use(V.a).init(),_.a.use(F.e).init({fallbackLng:"fi",lng:localStorage.getItem("i18nextLng")||"fi",resources:{fi:{translations:n(343)},en:{translations:n(344)}},ns:["translations"],defaultNS:"translations"}),_.a.languages=["fi","en"];var B=_.a,H=function(){var e=Object(s.c)((function(e){return e.admin})),t=Object(h.a)().t,n=function(e){B.changeLanguage(e),window.location.reload(!1)};return Object(R.jsxs)(D.a,{collapseOnSelect:!0,expand:"lg",variant:"dark",sticky:"top",children:[Object(R.jsx)(D.a.Brand,{as:u.b,to:"/",children:t("nameOfTheGame")}),Object(R.jsx)(D.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(R.jsx)(D.a.Collapse,{id:"responsive-navbar-nav",children:Object(R.jsxs)(A.a,{className:"ml-auto",children:[Object(R.jsxs)(G.a,{title:t("selectLanguage"),id:"selectLanguage",className:"navItems",children:[Object(R.jsx)(G.a.Item,{onClick:function(){return n("fi")},eventKey:"fi",children:t("languageFinnish")}),Object(R.jsx)(G.a.Item,{onClick:function(){return n("en")},eventKey:"en",children:t("languageEnglish")})]}),e&&Object(R.jsx)(A.a.Item,{children:Object(R.jsx)(L.a,{as:u.b,to:"/users",className:"navItems",children:t("userInformation")})}),e&&Object(R.jsx)(A.a.Item,{children:Object(R.jsx)(L.a,{as:u.b,to:"/files",className:"navItems",children:t("fileBank")})}),Object(R.jsx)(A.a.Item,{children:Object(R.jsx)(L.a,{as:u.b,to:"/howtoplay",className:"navItems",children:t("howToPlay")})}),Object(R.jsx)(A.a.Item,{children:Object(R.jsx)(L.a,{as:u.b,to:"/profile",className:"navItems",children:t("userProfile")})}),Object(R.jsx)(A.a.Item,{children:Object(R.jsx)(L.a,{href:"https://taudinpurkauspeli-taudinpurkauspeli2021.apps.ocp-prod-0.k8s.it.helsinki.fi/Shibboleth.sso/Logout",className:"navItems",children:t("logOut")})})]})})]})},q=function(){return Object(R.jsx)("div",{id:"sidebar"})},W=n(38),K=n(24),M=n(371),z=n(202),J=n(8),Y=n(31),Z=n(375),Q=n(199),X=function(e){var t=e.addCase,n=Object(h.a)().t,r=Object(Y.c)({initialValues:{title:"",anamnesis:"",hidden:!1},validationSchema:O.c({title:y(),anamnesis:O.d(),hidden:O.a()}),onSubmit:function(e){t({title:e.title,anamnesis:e.anamnesis,hidden:e.hidden})}});return Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:r.handleSubmit,spellCheck:"false",children:[Object(R.jsxs)(Z.a.Group,{controlId:"title",children:[Object(R.jsx)(Z.a.Label,{children:n("caseTitle")}),Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({type:"text"},r.getFieldProps("title")),{},{isInvalid:!!r.errors.title})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",children:r.errors.title})]}),Object(R.jsxs)(Z.a.Group,{controlId:"anamnesis",children:[Object(R.jsx)(Z.a.Label,{children:n("caseAnamnesis")}),Object(R.jsx)(Z.a.Control,Object(J.a)({as:"textarea",rows:3},r.getFieldProps("anamnesis")))]}),Object(R.jsx)(Z.a.Group,{controlId:"hidden",children:Object(R.jsx)(Z.a.Check,Object(J.a)({label:n("hideCase")},r.getFieldProps("hidden")))}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})},$=n(380),ee=n(381),te="/api/differentialsUnderCases",ne=function(e){return f.a.get("".concat(te,"/").concat(e,"/").concat(v()),x()).then((function(e){return e.data}))},re=function(e){return f.a.post("".concat(te,"/").concat(v()),e,x()).then((function(e){return e.data}))},ae=function(e,t){return f.a.put("".concat(te,"/").concat(e,"/").concat(v()),t,x())},ie=function(e,t){return f.a.delete("".concat(te,"/").concat(e,"/").concat(t),x())},ce="/api/proceduresUnderCases",se=function(e){return f.a.get("".concat(ce,"/").concat(e,"/").concat(v()),x()).then((function(e){return e.data}))},oe=function(e){return f.a.post("".concat(ce,"/").concat(v()),e,x()).then((function(e){return e.data}))},ue=function(e,t){return f.a.put("".concat(ce,"/").concat(e),t,x())},de=function(e){return f.a.delete("".concat(ce,"/").concat(e),x())},le="/api/differentialGroupsUnderCases",be=function(e){return f.a.get("".concat(le,"/").concat(e,"/").concat(v()),x()).then((function(e){return e.data}))},pe=function(e){return f.a.post("".concat(le,"/").concat(v()),e,x()).then((function(e){return e.data}))},je=function(e){return f.a.delete("".concat(le,"/").concat(e),x())},fe=function(e){var t=e.caseToBeCopied,n=e.createProcedures,r=Object(h.a)().t,a=t.id,i=0;return Object(R.jsx)(Q.a,{variant:"warning",size:"sm",onClick:function(e){e.preventDefault();var r={title:t.title,anamnesis:t.anamnesis,hidden:t.hidden};w(r).then((function(e){i=e.id})).then((function(){be(a).then((function(e){!function(e,t){var n={};t.forEach((function(t){n={caseId:e,differentialGroupId:t.id},pe(n).then((function(e){ne(t.diffGroupCaseId).then((function(t){t.forEach((function(t){var n=t.id,r={diffGroupCaseId:e.id,differentialId:n,description:t.description};re(r)}))}))}))}))}(i,e)}))})).then((function(){se(a).then((function(e){n(i,e)}))}))},children:r("copy")})},Oe=function(e){var t=e.c,n=e.admin,r=Object(h.a)().t,a=Object(s.b)();return Object(R.jsxs)("div",{children:[Object(R.jsxs)($.a,{as:u.b,to:"/cases/".concat(t.id),style:{width:"20rem",cursor:"pointer"},className:"caseCard",children:[Object(R.jsxs)($.a.Body,{children:[Object(R.jsx)($.a.Title,{children:t.title}),Object(R.jsx)($.a.Text,{children:t.anamnesis})]}),Object(R.jsx)($.a.Footer,{children:Object(R.jsx)(ee.a,{className:"progsbar",variant:"success",now:25,label:"".concat(25,"%")})})]}),n&&Object(R.jsxs)("div",{className:"cardButtons",children:[Object(R.jsx)(Q.a,{className:"editButton",as:u.b,to:"/cases/".concat(t.id),size:"sm",children:r("buttonEdit")}),Object(R.jsx)(fe,{caseToBeCopied:t,createDifferentials:function(e,t){for(var n=0;n<t.length;n+=1){var r=t[n],a=r.id,i=r.description;re({caseId:e,differentialId:a,description:i})}},createProcedures:function(e,t){for(var n=0;n<t.length;n+=1){var r=t[n],a=r.procedureId,i=r.priority;oe({caseId:e,procedureId:a,priority:i})}}}),Object(R.jsx)(Q.a,{className:"removeButton",size:"sm",variant:"danger",onClick:function(){var e,n,i;!0===window.confirm(r("deleteCaseConfirmation"))&&a((e=t.id,n=r("deleteCaseSuccess"),i=r("deleteCaseError"),function(){var t=Object(d.a)(p.a.mark((function t(r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I(e);case 3:r({type:"REMOVE_CASE",data:e}),k(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),N(i);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},children:r("buttonRemove")})]})]})},he=function(e){var t=e.newSearch,n=e.searchCases,r=Object(h.a)().t;return Object(R.jsx)("div",{children:Object(R.jsxs)("label",{htmlFor:"search",children:[r("searchByTitle"),"\xa0",Object(R.jsx)("input",{id:"search",value:t,onChange:n})]})})},me=n(373),xe=Object(r.forwardRef)((function(e,t){var n=Object(r.useState)(!1),a=Object(K.a)(n,2),i=a[0],c=a[1],s=function(){return c(!i)};return Object(r.useImperativeHandle)(t,(function(){return{toggleVisibility:s}})),Object(R.jsxs)("div",{children:[Object(R.jsx)(Q.a,{disabled:e.disabled,className:e.className?e.className:"addButton text",onClick:s,size:"sm",children:e.buttonLabel}),Object(R.jsxs)(me.a,{show:i,onHide:s,backdrop:"static",keyboard:!1,children:[Object(R.jsx)(me.a.Header,{closeButton:!0,children:Object(R.jsx)(me.a.Title,{children:e.titleLabel})}),Object(R.jsx)(me.a.Body,{children:e.children})]})]})})),ve=xe,ye=function(e){var t=e.admin,n=Object(h.a)().t,a=Object(r.useState)(""),i=Object(K.a)(a,2),c=i[0],o=i[1],u=Object(s.b)(),l=Object(r.useRef)(),b=Object(s.c)((function(e){return e.cases})),j=c?b.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())})):b;return Object(R.jsxs)("div",{id:"wrapper",children:[Object(R.jsx)("h2",{children:n("frontpageTitle")}),Object(R.jsx)("p",{children:n("frontpageText")}),Object(R.jsx)(he,{newSearch:c,searchCases:function(e){o(e.target.value)}}),Object(R.jsx)("br",{}),t&&Object(R.jsxs)("div",{children:[Object(R.jsx)(ve,{buttonLabel:n("buttonNewCase"),titleLabel:n("addCase"),ref:l,children:Object(R.jsx)(X,{addCase:function(e){var t,r,a;l.current.toggleVisibility(),u((t=e,r=n("caseAddSuccess"),a=n("caseAddError"),function(){var e=Object(d.a)(p.a.mark((function e(n){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:i=e.sent,n({type:"NEW_CASE",data:i}),k(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),N(a);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}})}),Object(R.jsx)("br",{}),Object(R.jsx)("h3",{children:n("caseHidden")}),Object(R.jsx)("hr",{})]}),Object(R.jsx)(M.a,{xs:"auto",md:"auto",className:"g-4",children:t&&j.filter((function(e){return e.hidden})).map((function(e){return Object(R.jsx)(z.a,{children:Object(R.jsx)(Oe,{c:e,admin:t})},e.id)}))}),Object(R.jsx)("br",{}),Object(R.jsx)("h3",{children:n("casePlayable")}),Object(R.jsx)("hr",{}),Object(R.jsx)(M.a,{xs:"auto",md:"auto",className:"g-4",children:j.filter((function(e){return!e.hidden})).map((function(e){return Object(R.jsx)(z.a,{children:Object(R.jsx)(Oe,{c:e,admin:t})},e.id)}))})]})},Ee=function(){var e=Object(h.a)().t;return Object(R.jsxs)("div",{id:"wrapper",children:[Object(R.jsx)("h2",{children:e("howToPlay")}),Object(R.jsx)("p",{children:e("gameInstructions")})]})},ge=function(){var e=Object(h.a)().t;return Object(R.jsx)("div",{id:"wrapper",children:Object(R.jsx)("h2",{children:e("userProfile")})})},Se=function(){var e=Object(h.a)().t;return Object(R.jsx)("div",{id:"wrapper",children:Object(R.jsx)("h2",{children:e("userInformation")})})},we=n(372),Ce=function(e){var t=e.addProcedure,n=Object(h.a)().t,r=Object(Y.c)({initialValues:{title:""},validationSchema:O.c({title:y()}),onSubmit:function(e){t({name:e.title})}});return Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:r.handleSubmit,children:[Object(R.jsxs)(Z.a.Group,{controlId:"title",children:[Object(R.jsx)(Z.a.Label,{children:n("procedureTitle")}),Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({type:"text"},r.getFieldProps("title")),{},{isInvalid:!!r.errors.title})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",children:r.errors.title})]}),Object(R.jsx)(Q.a,{type:"submit",className:"submitButton",children:n("buttonSubmit")})]})},Ie=function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e);case 2:r=t.sent,n({type:"GET_PROCEDURES_UNDER_CASE",data:r||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Pe=function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(a){var i;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,oe(e);case 3:i=r.sent,a({type:"NEW_PROCEDURE_UNDER_CASE",data:i}),k(t),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),N(n);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},Re=function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(a){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ue(e.procedureCaseId,e);case 3:a({type:"UPDATE_PROCEDURE",data:e}),k(t),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),N(n);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROCEDURES_UNDER_CASE":return t.data;case"NEW_PROCEDURE_UNDER_CASE":return[].concat(Object(l.a)(e),[t.data]);case"UPDATE_PROCEDURE":return e.map((function(e){return e.id!==t.data.id?e:t.data}));case"REMOVE_PROCEDURE_UNDER_CASE":return e.filter((function(e){return e.id!==t.data}));default:return e}},ke="/api/procedures",Ue=function(e){return f.a.post("".concat(ke,"/").concat(v()),e,x()).then((function(e){return e.data}))},Te=function(){return f.a.get("".concat(ke,"/").concat(v()),x()).then((function(e){return e.data}))},De=function(e,t){return f.a.put("".concat(ke,"/").concat(e,"/").concat(v()),t,x())},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROCEDURES":return t.data;case"NEW_PROCEDURE":return[].concat(Object(l.a)(e),[t.data]);case"UPDATE_PROCEDURE":return e.map((function(e){return e.id!==t.data.id?e:{id:e.id,name:e.name}}));default:return e}},Ge=function(e){var t=e.procedure,n=e.caseId,a=e.editProcedureFunc,i=Object(r.useState)(t.priority),c=Object(K.a)(i,2),o=(c[0],c[1]),l=Object(r.useState)(t.name),b=Object(K.a)(l,2),j=(b[0],b[1]),f=Object(h.a)().t,O=Object(s.b)(),m=(Object(W.g)(),"/cases/".concat(n)),x=function(e){e.preventDefault(),j(e.target[0].value),o(e.target[1].value);var n=Object(J.a)(Object(J.a)({},t),{},{priority:Number(e.target[1].value),name:e.target[0].value});null!=a&&a(n),O(function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(a){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,De(e.id,e);case 2:a(Re(e,t,n));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(n,f("procedureUpdateSuccess"),f("procedureUpdateError")))};return Object(R.jsxs)("div",{id:"editProcedureForm",children:[Object(R.jsx)("h2",{children:f("editProcedure")}),Object(R.jsx)(Q.a,{className:"procedureButton goTo",as:u.b,to:"".concat(m,"/procedure/").concat(t.id),style:{margin:15},children:f("goToProcedure")}),Object(R.jsxs)("form",{onSubmit:function(e){return x(e)},children:[Object(R.jsxs)("p",{children:[Object(R.jsx)("label",{htmlFor:"title",children:f("procedureTitle")}),Object(R.jsx)("br",{}),Object(R.jsx)("input",{id:"title",type:"text",defaultValue:t.name,onChange:function(e){j(e.target.value)},className:"formInput"})]}),Object(R.jsxs)("p",{children:[Object(R.jsx)("label",{htmlFor:"priority",children:f("procedurePriority")}),Object(R.jsx)("br",{}),Object(R.jsx)("input",{id:"priority",type:"integer",onChange:function(e){o(e.target.value)},defaultValue:t.priority,className:"formInput"})]}),Object(R.jsx)("p",{children:Object(R.jsx)(Q.a,{type:"submit",id:"submit",className:"submitButton",children:f("buttonSave")})})]})]},t.priority)},Le=function(e){var t=e.proceduresHook,n=e.handleDragStart,r=e.handleDragEnd,a=e.handleDragEnter,i=e.t,c=e.submitForm,s=e.handleProcedureRemove;return t&&t.map((function(e,t){return Object(R.jsx)("h4",{onDragStart:function(e){return n(e,t)},onDragEnd:function(){return r()},onDragEnter:function(e){return a(e,t)},draggable:!0,children:Object(R.jsxs)("div",{className:"rows",children:[Object(R.jsxs)(Q.a,{className:"procedureButton",children:[e.priority,"\xa0",e.name]}),Object(R.jsx)("form",{onSubmit:function(t){return c(e,t)},className:"handleEdits",children:Object(R.jsx)(Q.a,{type:"submit",className:"editButton",size:"sm",children:i("buttonEdit")},t)}),Object(R.jsx)(Q.a,{className:"removeButton",size:"sm",variant:"danger",onClick:function(){return s(e.id)},children:i("buttonRemove")})]})},t)}))},_e=function(e){var t=e.id,n=Object(h.a)().t,a=Object(s.b)(),i=Object(r.useRef)(),c=Object(r.useRef)(),o=Object(r.useState)([]),u=Object(K.a)(o,2),b=u[0],j=u[1],f=Object(r.useState)(null),O=Object(K.a)(f,2),m=O[0],x=O[1],v=Object(s.c)((function(e){return e.proceduresUnderCase.sort((function(e,t){return e.priority-t.priority}))}));Object(r.useEffect)((function(){j(v)}),[v]);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Le,{proceduresHook:b,handleDragStart:function(e,t){i.current=t},handleDragEnd:function(){var e,n;a((e=t,n=b,function(){var t=Object(d.a)(p.a.mark((function t(r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map((function(e,t){return ue(e.procedureCaseId,{priority:t+1})})));case 2:r(Ie(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},handleDragEnter:function(e,t){c.current=t;var n=Object(l.a)(b),r=n[i.current];n.splice(i.current,1),n.splice(c.current,0,r),i.current=c.current,c.current=null,j(n)},t:n,submitForm:function(e,t){t.preventDefault(),function(e){x(e)}(e)},handleProcedureRemove:function(e){!0===window.confirm(n("deleteProcedureUnderCaseConfirmation"))&&a(function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(a){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,de(e);case 3:a({type:"REMOVE_PROCEDURE_UNDER_CASE",data:e}),k(t),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),N(n);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}(e,n("deleteProcedureUnderCaseSuccess"),n("deleteProcedureUnderCaseError")))}}),m?Object(R.jsx)(Ge,{procedure:m,caseId:t}):Object(R.jsx)("p",{children:" "})]})},Fe=function(e){var t=e.admin,n=Object(h.a)().t,a=Object(W.h)().id,i=Object(s.b)(),c=Object(r.useRef)();return Object(R.jsxs)("div",{children:[Object(R.jsx)("h2",{children:n("procedures")}),t&&Object(R.jsx)(ve,{buttonLabel:n("buttonNewProcedure"),titleLabel:n("addProcedure"),ref:c,children:Object(R.jsx)(Ce,{addProcedure:function(e){c.current.toggleVisibility();try{i((t=Number(a),r=e,function(){var e=Object(d.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(r);case 2:a=e.sent,n({type:"NEW_PROCEDURE",data:a}),n(Pe({caseId:t,procedureId:a.id,priority:1},s,o));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),k(n("procedureAddSuccess"))}catch(u){N(n("procedureAddError"))}var t,r,s,o}})}),Object(R.jsx)(_e,{id:a})]})},Ve=n(378),Be=function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(a){var i;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,re(e);case 3:i=r.sent,a({type:"NEW_DIFFERENTIALUNDERCASE",data:i}),k(t),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),N(n);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIFFERENTIALSUNDERCASE":return t.data;case"NEW_DIFFERENTIALUNDERCASE":return[].concat(Object(l.a)(e),[t.data]);case"UPDATE_DIFFERENTIALUNDERCASE":return e.map((function(e){return e.id!==t.data.id?e:t.data}));case"REMOVE_DIFFERENTIAL_UNDER_CASE":return e.filter((function(e){return e.id!==t.data}));case"REMOVE_DIFFERENTIALGROUP_UNDER_CASE":return e.filter((function(e){return e.diffGroupCaseId!==t.data}));default:return e}},qe=function(e){var t=e.name,n=e.description,r=e.procedureId,a=e.updateDifferential,i=Object(h.a)().t,c=Object(s.c)((function(e){return e.proceduresUnderCase})),o=Object(Y.c)({initialValues:{name:t,procedureId:null===r?void 0:r,description:n},validationSchema:O.c().shape({description:O.d()}),onSubmit:function(e){a({procedureId:Number(e.procedureId),description:e.description})}});return Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:o.handleSubmit,children:[Object(R.jsxs)(Z.a.Group,{controlId:"name",children:[Object(R.jsx)(Z.a.Label,{children:i("title")}),Object(R.jsx)(Z.a.Control,Object(J.a)({disabled:!0,type:"text",placeholder:i("write")},o.getFieldProps("name"))),Object(R.jsx)(Z.a.Text,{className:"text-muted",children:i("differentialNameInstruction")})]}),Object(R.jsxs)(Z.a.Group,{controlId:"procedureId",children:[Object(R.jsx)(Z.a.Label,{children:i("differentialProcedure")}),Object(R.jsxs)(Z.a.Control,Object(J.a)(Object(J.a)({as:"select"},o.getFieldProps("procedureId")),{},{isInvalid:!!o.errors.procedureId,children:[Object(R.jsx)("option",{value:void 0,children:i("anamnesis")}),c.map((function(e){return Object(R.jsx)("option",{value:e.id,children:e.name},e.id)}))]}))]}),Object(R.jsxs)(Z.a.Group,{controlId:"description",children:[Object(R.jsx)(Z.a.Label,{children:i("description")}),Object(R.jsx)(Z.a.Control,Object(J.a)({as:"textarea",rows:10},o.getFieldProps("description")))]}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:i("buttonUpdate")})]})},We=function(e){var t=e.d,n=e.admin,a=Object(h.a)().t,i=Object(s.b)(),c=Object(r.useRef)(),o=function(e,t){!0===window.confirm(a("deleteDifferentialUnderCaseConfirmation"))&&i(function(e,t,n,r){return function(){var a=Object(d.a)(p.a.mark((function a(i){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie(e,t);case 3:i({type:"REMOVE_DIFFERENTIAL_UNDER_CASE",data:t}),k(n),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),N(r);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(e,t,a("deleteDifferentialUnderCaseSuccess"),a("deleteDifferentialUnderCaseError")))};return Object(R.jsxs)($.a,{children:[Object(R.jsx)(Ve.a.Toggle,{as:$.a.Header,eventKey:t.id,id:"differentialName",children:Object(R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[t.name,n&&Object(R.jsxs)("div",{className:"rows",children:[Object(R.jsx)(ve,{className:"editButton",buttonLabel:a("buttonEdit"),titleLabel:a("updateSubProcedure"),ref:c,children:Object(R.jsx)(qe,{name:t.name,description:t.description,procedureId:t.procedureId,updateDifferential:function(e){var n,r,s;c.current.toggleVisibility(),i((n=Object(J.a)(Object(J.a)({},t),{},{procedureId:e.procedureId,description:e.description}),r=a("differentialUpdateSuccess"),s=a("differentialUpdateError"),function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(n.id,n);case 3:t({type:"UPDATE_DIFFERENTIALUNDERCASE",data:n}),k(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),N(s);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}})}),Object(R.jsx)(Q.a,{className:"removeButton",size:"sm",variant:"danger",onClick:function(){return o(t.diffGroupCaseId,t.id)},children:a("buttonRemove")})]})]})}),Object(R.jsx)(Ve.a.Collapse,{eventKey:t.id,children:Object(R.jsx)($.a.Body,{children:t.description})})]})},Ke=function(e){var t=e.diffGroupCaseId,n=e.admin,r=Object(s.c)((function(e){return e.differentialsUnderCase})).filter((function(e){return e.diffGroupCaseId===t}));return Object(R.jsx)(Ve.a,{children:r.map((function(e){return Object(R.jsx)(We,{d:e,admin:n},e.id)}))})},Me=n(208),ze=function(e){var t=Object(Y.b)(e),n=Object(K.a)(t,3),r=(n[0],n[1]),a=n[2],i=Object(h.a)().t;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(Z.a.Group,{controlId:"form-".concat(e.name),children:[Object(R.jsx)(Z.a.Label,{children:e.label}),Object(R.jsx)(Me.a,Object(J.a)(Object(J.a)({id:e.name,multiple:!1,onChange:function(e){var t=e.length>0?e[0].name:"";a.setValue(t)},onInputChange:function(e){return a.setValue(e)},onBlur:function(){return a.setTouched(!0)},allowNew:!1,labelKey:e.name,options:e.options,placeholder:i("write"),emptyLabel:""},r.touched&&r.error?{isInvalid:!0,className:"is-invalid"}:{isInvalid:!1}),e)),r.touched&&r.error?Object(R.jsx)("div",{className:"invalid-feedback",children:r.error}):null]})})},Je=function(e){var t=e.addDifferential,n=Object(h.a)().t,r=Object(s.c)((function(e){return e.differentials})),a=Object(s.c)((function(e){return e.proceduresUnderCase})),i=Object(Y.c)({initialValues:{name:"",procedureId:void 0,description:""},validationSchema:O.c({name:y(),description:O.d()}),onSubmit:function(){var e=Object(d.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.filter((function(e){return e.name===n.name})),t(0===a.length?Object(J.a)(Object(J.a)({},n),{},{procedureId:Number(n.procedureId)}):Object(J.a)(Object(J.a)(Object(J.a)({},a[0]),n),{},{procedureId:Number(n.procedureId)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(R.jsx)(Y.a,{value:i,children:Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:i.handleSubmit,children:[Object(R.jsx)(Z.a.Group,{controlId:"name",children:Object(R.jsx)(ze,{name:"name",label:n("addDifferential"),options:r})}),Object(R.jsxs)(Z.a.Group,{controlId:"procedureId",children:[Object(R.jsx)(Z.a.Label,{children:n("differentialProcedure")}),Object(R.jsxs)(Z.a.Control,Object(J.a)(Object(J.a)({as:"select"},i.getFieldProps("procedureId")),{},{isInvalid:!!i.errors.procedureId,children:[Object(R.jsx)("option",{value:void 0,children:n("anamnesis")}),a.map((function(e){return Object(R.jsx)("option",{value:e.id,children:e.name},e.id)}))]}))]}),Object(R.jsxs)(Z.a.Group,{controlId:"description",children:[Object(R.jsx)(Z.a.Label,{children:n("description")}),Object(R.jsx)(Z.a.Control,Object(J.a)({as:"textarea",rows:3},i.getFieldProps("description")))]}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})})},Ye="/api/differentials",Ze=function(){return f.a.get("".concat(Ye,"/").concat(v()),x()).then((function(e){return e.data}))},Qe=function(e){return f.a.post("".concat(Ye,"/").concat(v()),e,x()).then((function(e){return e.data}))},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIFFERENTIALS":return t.data;case"NEW_DIFFERENTIAL":return[].concat(Object(l.a)(e),[t.data]);default:return e}},$e=function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(a){var i;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,pe(e);case 3:i=r.sent,a({type:"NEW_DIFFERENTIALGROUP_UNDER_CASE",data:i}),k(t),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),N(n);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIFFERENTIALGROUPS_UNDER_CASE":return t.data;case"NEW_DIFFERENTIALGROUP_UNDER_CASE":return[].concat(Object(l.a)(e),[t.data]);case"REMOVE_DIFFERENTIALGROUP_UNDER_CASE":return e.filter((function(e){return e.diffGroupCaseId!==t.data}));default:return e}},tt=function(e){var t=e.diffGroupCaseId,n=e.name,a=e.admin,i=Object(h.a)().t,c=Object(s.b)(),o=Object(r.useRef)(),u=function(){!0===window.confirm(i("deleteDifferentialGroupUnderCaseConfirmation"))&&c(function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(a){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,je(e);case 3:a({type:"REMOVE_DIFFERENTIALGROUP_UNDER_CASE",data:e}),k(t),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),N(n);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}(t,i("deleteDifferentialGroupUnderCaseSuccess"),i("deleteDifferentialGroupUnderCaseError")))};return Object(R.jsxs)($.a,{style:{width:"60rem"},children:[Object(R.jsxs)($.a.Header,{children:[n,a&&Object(R.jsx)(Q.a,{className:"removeButton",size:"sm",variant:"danger",onClick:function(){return u()},children:i("buttonRemove")})]}),Object(R.jsxs)($.a.Body,{children:[Object(R.jsx)(Ke,{diffGroupCaseId:t,admin:a}),a&&Object(R.jsx)(ve,{buttonLabel:i("buttonNewDifferential"),titleLabel:i("addDifferential"),ref:o,children:Object(R.jsx)(Je,{addDifferential:function(e){o.current.toggleVisibility(),c(function(e,t,n,r){return function(){var a=Object(d.a)(p.a.mark((function a(i){var c,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==(c=t.id)){a.next=7;break}return a.next=4,Qe({name:t.name});case 4:s=a.sent,i({type:"NEW_DIFFERENTIAL",data:s}),c=s.id;case 7:i(Be({diffGroupCaseId:e,differentialId:c,procedureId:t.procedureId,description:t.description},n,r));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,e,i("differentialAddSuccess"),i("differentialAddError")))}})})]})]})},nt=function(e){var t=e.admin,n=Object(s.c)((function(e){return e.differentialGroupsUnderCase}));return Object(R.jsx)("div",{"data-testid":"diffGroupList",children:n.map((function(e){return Object(R.jsx)(tt,{diffGroupCaseId:e.diffGroupCaseId,name:e.name,admin:t},e.id)}))})},rt=function(e){var t=e.addDifferentialGroup,n=Object(h.a)().t,r=Object(s.c)((function(e){return e.differentialGroups})),a=Object(Y.c)({initialValues:{name:""},validationSchema:O.c({name:y()}),onSubmit:function(){var e=Object(d.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.filter((function(e){return e.name===n.name})),t(0===a.length?n:a[0]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(R.jsx)(Y.a,{value:a,children:Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:[Object(R.jsx)(ze,{name:"name",label:n("addDifferentialGroup"),options:r}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})})},at="/api/differentialGroups",it=function(){return f.a.get("".concat(at,"/").concat(v()),x()).then((function(e){return e.data}))},ct=function(e){return f.a.post("".concat(at,"/").concat(v()),e,x()).then((function(e){return e.data}))},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIFFERENTIALGROUPS":return t.data;case"NEW_DIFFERENTIALGROUP":return[].concat(Object(l.a)(e),[t.data]);default:return e}},ot=function(e){var t=e.admin,n=Object(h.a)().t,a=Object(s.b)(),i=Object(r.useRef)(),c=Object(W.h)().id;return Object(R.jsxs)("div",{children:[Object(R.jsx)("h2",{children:n("Differentials")}),t&&Object(R.jsx)(ve,{buttonLabel:n("buttonNewDifferentialGroup"),titleLabel:n("addDifferentialGroup"),ref:i,children:Object(R.jsx)(rt,{addDifferentialGroup:function(e){var t,r,s,o;i.current.toggleVisibility(),a((t=Number(c),r=e,s=n("differentialGroupUpdateSuccess"),o=n("differentialGroupUpdateError"),function(){var e=Object(d.a)(p.a.mark((function e(n){var a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(a=r.id)){e.next=7;break}return e.next=4,ct(r);case 4:i=e.sent,n({type:"NEW_DIFFERENTIALGROUP",data:i}),a=i.id;case 7:n($e({caseId:t,differentialGroupId:a},s,o));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})}),Object(R.jsx)(nt,{admin:t})]})},ut=function(e){var t=e.c,n=e.hideCase,a=Object(h.a)().t,i=Object(r.useState)(t.hidden),c=Object(K.a)(i,2),s=c[0],o=c[1];return Object(R.jsx)("div",{children:Object(R.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(Object(J.a)(Object(J.a)({},t),{},{hidden:s}))},children:[Object(R.jsx)("label",{htmlFor:"submit",className:"hidden",children:a(s?"buttonShowCaseToStudents":"buttonHideCaseFromStudents")}),Object(R.jsx)("input",{id:"submitHide",className:"hideCase",type:"submit",onClick:function(){o(!s)},size:"sm",value:a(s?"buttonShowCaseToStudents":"buttonHideCaseFromStudents")})]})})},dt=function(e){var t=e.c,n=e.updateCaseTitle,r=Object(h.a)().t,a=Object(Y.c)({initialValues:{title:t.title},validationSchema:O.c({title:y()}),onSubmit:function(e){n(Object(J.a)(Object(J.a)({},t),{},{title:e.title}))}});return Object(R.jsx)(Z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:Object(R.jsxs)(Z.a.Group,{controlId:"updateTitle",style:{width:"30rem"},children:[Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({className:"titleChangeInput",type:"text"},a.getFieldProps("title")),{},{isInvalid:!!a.errors.title})),Object(R.jsx)(Z.a.Text,{className:"text-muted",children:r("caseTitleInstruction")}),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:a.errors.title})]})})},lt=function(e){var t=e.c,n=e.updateAnamnesis,r=Object(h.a)().t,a=Object(Y.c)({initialValues:{anamnesis:t.anamnesis},validationSchema:O.c({anamnesis:O.d().min(2,r("warningShort")).max(5e3,r("warningLong")).required(r("warningRequired"))}),onSubmit:function(e){n(Object(J.a)(Object(J.a)({},t),{},{anamnesis:e.anamnesis}))}});return Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:[Object(R.jsxs)(Z.a.Group,{controlId:"updateAnamnesis",children:[Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({className:"anamnesisForm",as:"textarea"},a.getFieldProps("anamnesis")),{},{isInvalid:!!a.errors.anamnesis,rows:10})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:a.errors.anamnesis})]}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:r("buttonSaveAnamneesi")})]})},bt=function(e){var t=e.admin,n=Object(h.a)().t,r=Object(s.b)(),a=Object(W.h)().id,i=Object(s.c)((function(e){return e.cases.find((function(e){return e.id===Number(a)}))})),c=function(e){var t,a,i;r((t=e,a=n("caseUpdateSuccess"),i=n("caseUpdateError"),function(){var e=Object(d.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t);case 3:n({type:"UPDATE_CASE",data:t}),k(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),N(i);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(R.jsxs)("div",{children:[t&&i&&Object(R.jsxs)("div",{id:"casePageArea",children:[Object(R.jsxs)("div",{className:"rows",children:[Object(R.jsx)(dt,{c:i,updateCaseTitle:c}),Object(R.jsx)(ut,{c:i,hideCase:c})]}),Object(R.jsx)(lt,{c:i,updateAnamnesis:c})]}),!t&&i&&Object(R.jsx)("p",{children:i.title})]})},pt="/api/subProcedures",jt=function(e){return f.a.post("".concat(pt,"/").concat(v()),e,x()).then((function(e){return e.data}))},ft=function(e){return f.a.get("".concat(pt,"/").concat(e,"/").concat(v()),x()).then((function(e){return e.data}))},Ot=function(e,t){return f.a.put("".concat(pt,"/").concat(e,"/").concat(v()),t,x())},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SUBPROCEDURES":return t.data;case"ADD_SUBPROCEDURE":return[].concat(Object(l.a)(e),[t.data]);case"UPDATE_SUBPROCEDURE":return e.map((function(e){return e.id!==t.data.id?e:t.data}));default:return e}},mt="/api/optionGroups",xt=function(){return f.a.get("".concat(mt,"/").concat(v()),x()).then((function(e){return e.data}))},vt=function(e){return f.a.post("".concat(mt,"/").concat(v()),e,x()).then((function(e){return e.data}))},yt="/api/optionGroupsUnderSubProcedures",Et=function(e){return f.a.get("".concat(yt,"/").concat(e,"/").concat(v()),x()).then((function(e){return e.data}))},gt=function(e){return f.a.post("".concat(yt,"/").concat(v()),e,x()).then((function(e){return e.data}))},St=function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(a){var i;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,gt(e);case 3:i=r.sent,a({type:"NEW_OPTIONGROUP_UNDER_SUBPROCEDURE",data:i}),k(t),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),N(n);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONGROUPS_UNDER_SUBPROCEDURES":return t.data;case"NEW_OPTIONGROUP_UNDER_SUBPROCEDURE":return[].concat(Object(l.a)(e),[t.data]);default:return e}},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONGROUPS":return t.data;case"NEW_OPTIONGROUP":return[].concat(Object(l.a)(e),[t.data]);default:return e}},It="/api/options",Pt=function(){return f.a.get("".concat(It,"/").concat(v()),x()).then((function(e){return e.data}))},Rt=function(e){return f.a.post("".concat(It,"/").concat(v()),e,x()).then((function(e){return e.data}))},Nt="/api/optionsUnderSubProcedures",kt=function(e){return f.a.get("".concat(Nt,"/").concat(e,"/INTERVIEW/").concat(v()),x()).then((function(e){return e.data}))},Ut=function(e){return f.a.post("".concat(Nt,"/").concat(v()),e,x()).then((function(e){return e.data}))},Tt=function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(a){var i;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ut(e);case 3:i=r.sent,a({type:"NEW_OPTION_UNDER_SUBPROCEDURE",data:i}),k(t),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),N(n);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONS_UNDER_SUBPROCEDURES":return t.data;case"NEW_OPTION_UNDER_SUBPROCEDURE":return[].concat(Object(l.a)(e),[t.data]);default:return e}},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_OPTIONS":return t.data;case"NEW_OPTION":return[].concat(Object(l.a)(e),[t.data]);default:return e}},Gt=function(e){var t=e.admin,n=Object(h.a)().t,a=Object(W.h)().id,i=Object(s.b)(),c="/cases/".concat(a);Object(r.useEffect)((function(){var e;i(function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te();case 2:n=e.sent,t({type:"GET_PROCEDURES",data:n||null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(Ie(a)),i((e=a,function(){var t=Object(d.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ft(e);case 2:r=t.sent,n({type:"GET_SUBPROCEDURES",data:r||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),i(function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt();case 2:n=e.sent,t({type:"GET_OPTIONGROUPS",data:n||null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Et(e);case 2:r=t.sent,n({type:"GET_OPTIONGROUPS_UNDER_SUBPROCEDURES",data:r||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a)),i(function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt();case 2:n=e.sent,t({type:"GET_OPTIONS",data:n||null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kt(e);case 2:r=t.sent,n({type:"GET_OPTIONS_UNDER_SUBPROCEDURES",data:r||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a)),i(function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze();case 2:n=e.sent,t({type:"GET_DIFFERENTIALS",data:n||null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(e);case 2:r=t.sent,n({type:"GET_DIFFERENTIALSUNDERCASE",data:r||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a)),i(function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it();case 2:n=e.sent,t({type:"GET_DIFFERENTIALGROUPS",data:n||null});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(e);case 2:r=t.sent,n({type:"GET_DIFFERENTIALGROUPS_UNDER_CASE",data:r||null});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a))}),[]);return Object(R.jsxs)("div",{id:"wrapper",children:[Object(R.jsxs)(we.a,{style:{marginBottom:25},children:[Object(R.jsx)(Q.a,{className:"tabs",as:u.b,to:"".concat(c,"/anamnesis"),disabled:!0,children:n("caseAnamnesis")}),Object(R.jsx)(Q.a,{className:"tabs",as:u.b,to:"".concat(c,"/procedures"),children:n("caseProcedures")}),Object(R.jsx)(Q.a,{className:"tabs",as:u.b,to:"".concat(c,"/differentials"),children:n("caseDifferentials")})]}),Object(R.jsxs)(W.d,{children:[Object(R.jsx)(W.b,{path:"/cases/:id/anamnesis",children:Object(R.jsx)(bt,{admin:t})}),Object(R.jsx)(W.b,{path:"/cases/:id/procedures",children:Object(R.jsx)(Fe,{admin:t})}),Object(R.jsx)(W.b,{path:"/cases/:id/differentials",children:Object(R.jsx)(ot,{admin:t})}),Object(R.jsx)(W.b,{path:"/cases/:id",children:Object(R.jsx)(W.a,{to:"".concat(c,"/anamnesis")})})]})]})},Lt=function(e){var t=e.addOptionGroup,n=Object(h.a)().t,r=Object(s.c)((function(e){return e.optionGroups})),a=Object(Y.c)({initialValues:{name:""},validationSchema:O.c().shape({name:y()}),onSubmit:function(){var e=Object(d.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.filter((function(e){return e.name===n.name})),t(0===a.length?n:a[0]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(R.jsx)(Y.a,{value:a,children:Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:[Object(R.jsx)(ze,{name:"name",label:n("addOptionGroup"),options:r}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})})},_t=function(e){var t=e.optionObject;return Object(R.jsxs)($.a,{children:[Object(R.jsx)(Ve.a.Toggle,{className:"optionCard-".concat(t.isRequired),as:$.a.Header,eventKey:t.id,children:t.name}),Object(R.jsx)(Ve.a.Collapse,{eventKey:t.id,children:Object(R.jsx)($.a.Body,{children:t.description})})]})},Ft=function(e){var t=e.optionGroupSubProcedureId,n=Object(s.c)((function(e){return e.optionsUnderSubProcedure})).filter((function(e){return e.optionGroupSubProcedureId===t}));return Object(R.jsx)(Ve.a,{children:n.map((function(e){return Object(R.jsx)(_t,{optionObject:e},e.id)}))})},Vt=function(e){var t=e.addOption,n=Object(h.a)().t,r=Object(s.c)((function(e){return e.options})),a=Object(Y.c)({initialValues:{name:"",description:"",isRequired:2},validationSchema:O.c().shape({name:y(),description:O.d(),isRequired:O.b().required(n("warningRequired")).integer()}),onSubmit:function(){var e=Object(d.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.filter((function(e){return e.name===n.name})),t(0===a.length?Object(J.a)(Object(J.a)({},n),{},{isRequired:Number(n.isRequired)}):Object(J.a)(Object(J.a)(Object(J.a)({},a[0]),n),{},{isRequired:Number(n.isRequired)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(R.jsx)(Y.a,{value:a,children:Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:[Object(R.jsx)(ze,{name:"name",label:n("addOption"),options:r}),Object(R.jsxs)(Z.a.Group,{controlId:"description",children:[Object(R.jsx)(Z.a.Label,{children:n("description")}),Object(R.jsx)(Z.a.Control,Object(J.a)({as:"textarea",rows:3},a.getFieldProps("description")))]}),Object(R.jsxs)(Z.a.Group,{controlId:"isRequired",children:[Object(R.jsx)(Z.a.Check,{defaultChecked:!0,id:"required",label:n("required"),name:"isRequired",type:"radio",value:2,onChange:a.getFieldProps("isRequired").onChange}),Object(R.jsx)(Z.a.Check,{id:"voluntary",label:n("voluntary"),name:"isRequired",type:"radio",value:1,onChange:a.getFieldProps("isRequired").onChange}),Object(R.jsx)(Z.a.Check,{id:"wrong",label:n("wrong"),name:"isRequired",type:"radio",value:0,onChange:a.getFieldProps("isRequired").onChange})]}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})})},Bt=function(e){var t=e.optionGroupSubProcedureId,n=e.name,a=e.admin,i=Object(h.a)().t,c=Object(s.b)(),o=Object(r.useRef)();return Object(R.jsxs)($.a,{children:[Object(R.jsx)($.a.Header,{children:n}),Object(R.jsxs)($.a.Body,{children:[Object(R.jsx)(Ft,{optionGroupSubProcedureId:t}),a&&Object(R.jsx)(ve,{buttonLabel:i("buttonAddNewOption"),titleLabel:i("addOption"),ref:o,children:Object(R.jsx)(Vt,{addOption:function(e){o.current.toggleVisibility(),c(function(e,t,n,r){return function(){var a=Object(d.a)(p.a.mark((function a(i){var c,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==(c=t.id)){a.next=7;break}return a.next=4,Rt({name:t.name});case 4:s=a.sent,i({type:"NEW_OPTION",data:s}),c=s.id;case 7:i(Tt({optionGroupSubProcedureId:e,optionId:c,description:t.description,isRequired:t.isRequired},n,r));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,e,i("optionAddSuccess"),i("optionAddError")))}})})]})]})},Ht=function(e){var t=e.subProcedureId,n=e.admin,r=Object(s.c)((function(e){return e.optionGroupsUnderSubProcedure})).filter((function(e){return e.subProcedureId===t}));return Object(R.jsx)("div",{"data-testid":"optionGroupList",children:r.map((function(e){return Object(R.jsx)(Bt,{optionGroupSubProcedureId:e.optionGroupSubProcedureId,name:e.name,admin:n},e.id)}))})},qt=function(e){var t=e.d,n=e.admin,a=Object(h.a)().t,i=Object(s.b)(),c=Object(r.useRef)();return Object(R.jsx)("div",{children:Object(R.jsxs)($.a,{style:{width:"60rem"},children:[Object(R.jsx)(Ve.a.Toggle,{as:$.a.Header,eventKey:t.id,children:Object(R.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:t.title})}),Object(R.jsx)(Ve.a.Collapse,{eventKey:t.id,children:Object(R.jsxs)($.a.Body,{children:[n&&Object(R.jsx)(ve,{buttonLabel:a("buttonAddNewOptionGroup"),titleLabel:a("addOptionGroup"),ref:c,children:Object(R.jsx)(Lt,{addOptionGroup:function(e){c.current.toggleVisibility(),i(function(e,t,n,r){return function(){var a=Object(d.a)(p.a.mark((function a(i){var c,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==(c=t.id)){a.next=7;break}return a.next=4,vt(t);case 4:s=a.sent,i({type:"NEW_OPTIONGROUP",data:s}),c=s.id;case 7:i(St({subProcedureId:e,optionGroupId:c},n,r));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t.id,e,a("optionGroupAddSuccess"),a("optionGroupAddError")))}})}),Object(R.jsx)(Ht,{subProcedureId:t.id,admin:n})]})})]})})},Wt=function(e){var t=e.title,n=e.text,r=e.updateTextSubProcedure,a=Object(h.a)().t,i=Object(Y.c)({initialValues:{title:t,text:n},validationSchema:O.c().shape({title:y(),text:O.d()}),onSubmit:function(e){r({text:e.text})}});return Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:i.handleSubmit,children:[Object(R.jsxs)(Z.a.Group,{controlId:"title",children:[Object(R.jsx)(Z.a.Label,{children:a("title")}),Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({disabled:!0,type:"text",placeholder:a("write")},i.getFieldProps("title")),{},{isInvalid:!!i.errors.title})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:i.errors.title})]}),Object(R.jsxs)(Z.a.Group,{controlId:"text",children:[Object(R.jsx)(Z.a.Label,{children:a("textToAdd")}),Object(R.jsx)(Z.a.Control,Object(J.a)({as:"textarea",rows:10},i.getFieldProps("text")))]}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:a("buttonUpdate")})]})},Kt=function(e){var t=e.d,n=e.admin,a=Object(h.a)().t,i=Object(s.b)(),c=Object(r.useRef)();return Object(R.jsx)("div",{children:Object(R.jsxs)($.a,{style:{width:"60rem"},children:[Object(R.jsx)(Ve.a.Toggle,{as:$.a.Header,eventKey:t.id,children:Object(R.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[t.title,n&&Object(R.jsx)("div",{className:"cardButtons",children:Object(R.jsx)(ve,{className:"editButton",buttonLabel:a("buttonEdit"),titleLabel:a("updateSubProcedure"),ref:c,children:Object(R.jsx)(Wt,{title:t.title,text:t.text,updateTextSubProcedure:function(e){c.current.toggleVisibility();try{i((n=t.id,r=Object(J.a)(Object(J.a)({},t),{},{text:e.text}),function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot(n,r);case 3:t({type:"UPDATE_SUBPROCEDURE",data:r}),k(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),N(o);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),k(a("subProcedureUpdateSuccess"))}catch(u){N(a("subProcedureUpdateError"))}var n,r,s,o}})})})]})}),Object(R.jsx)(Ve.a.Collapse,{eventKey:t.id,children:Object(R.jsx)($.a.Body,{children:t.text})})]})})},Mt=function(e){var t=e.d;return Object(R.jsx)("div",{children:Object(R.jsxs)($.a,{style:{width:"60rem"},children:[Object(R.jsx)(Ve.a.Toggle,{as:$.a.Header,eventKey:t.id,children:Object(R.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:t.title})}),Object(R.jsx)(Ve.a.Collapse,{eventKey:t.id,children:Object(R.jsx)($.a.Body,{children:t.text})})]})})},zt=function(e){var t=e.d,n=e.admin;return"TEXT"===t.type?Object(R.jsx)(Kt,{d:t,admin:n}):"INTERVIEW"===t.type?Object(R.jsx)(qt,{d:t,admin:n}):"CONCLUSION"===t.type?Object(R.jsx)(Mt,{d:t,admin:n}):void 0},Jt=function(e){var t=e.listedProcedures,n=e.admin;return Object(R.jsx)(Ve.a,{children:t.map((function(e){return Object(R.jsx)(zt,{d:e,admin:n},e.id)}))})},Yt=function(e){var t=e.addSubProcedure,n=Object(h.a)().t,r=Object(Y.c)({initialValues:{priority:"",title:"",text:""},validationSchema:O.c({title:y(),priority:E(),text:O.d()}),onSubmit:function(e){t(Object(J.a)(Object(J.a)({},e),{},{priority:Number(e.priority),type:"TEXT"}))}});return Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:r.handleSubmit,children:[Object(R.jsxs)(Z.a.Group,{controlId:"title",children:[Object(R.jsx)(Z.a.Label,{children:n("title")}),Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({type:"text",placeholder:n("write")},r.getFieldProps("title")),{},{isInvalid:!!r.errors.title})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.errors.title})]}),Object(R.jsxs)(Z.a.Group,{controlId:"priority",children:[Object(R.jsx)(Z.a.Label,{children:n("subProcedurePriority")}),Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({type:"text",placeholder:n("giveNumber")},r.getFieldProps("priority")),{},{isInvalid:!!r.errors.priority})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.errors.priority})]}),Object(R.jsxs)(Z.a.Group,{className:"mb-3",controlId:"text",children:[Object(R.jsx)(Z.a.Label,{children:n("textToAdd")}),Object(R.jsx)(Z.a.Control,Object(J.a)({as:"textarea",rows:10},r.getFieldProps("text")))]}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})},Zt=function(e){var t=e.addSubProcedure,n=Object(h.a)().t,r=Object(Y.c)({initialValues:{priority:"",title:""},validationSchema:O.c({title:y(),priority:E()}),onSubmit:function(e){t({priority:Number(e.priority),type:"INTERVIEW",title:e.title})}});return Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:r.handleSubmit,children:[Object(R.jsxs)(Z.a.Group,{controlId:"title",children:[Object(R.jsx)(Z.a.Label,{children:n("title")}),Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({type:"text",placeholder:n("write")},r.getFieldProps("title")),{},{isInvalid:!!r.errors.title})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.errors.title})]}),Object(R.jsxs)(Z.a.Group,{controlId:"priority",children:[Object(R.jsx)(Z.a.Label,{children:n("subProcedurePriority")}),Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({type:"text",placeholder:n("giveNumber")},r.getFieldProps("priority")),{},{isInvalid:!!r.errors.priority})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:r.errors.priority})]}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})},Qt=function(e){var t=e.addSubProcedure,n=Object(h.a)().t,r=Object(s.c)((function(e){return e.differentialsUnderCase})),a=Object(Y.c)({initialValues:{priority:"",title:"",text:"",differentialId:""},validationSchema:O.c({title:y(),priority:E(),text:O.d(),differentialId:O.d().required(n("warningRequired"))}),onSubmit:function(e){t(Object(J.a)(Object(J.a)({},e),{},{differentialId:Number(e.differentialId),priority:Number(e.priority),type:"CONCLUSION"}))}});return Object(R.jsxs)(Z.a,{noValidate:!0,onSubmit:a.handleSubmit,children:[Object(R.jsxs)(Z.a.Group,{controlId:"title",children:[Object(R.jsx)(Z.a.Label,{children:n("title")}),Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({type:"text",placeholder:n("write")},a.getFieldProps("title")),{},{isInvalid:!!a.errors.title})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:a.errors.title})]}),Object(R.jsxs)(Z.a.Group,{controlId:"priority",children:[Object(R.jsx)(Z.a.Label,{children:n("subProcedurePriority")}),Object(R.jsx)(Z.a.Control,Object(J.a)(Object(J.a)({type:"text",placeholder:n("giveNumber")},a.getFieldProps("priority")),{},{isInvalid:!!a.errors.priority})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:a.errors.priority})]}),Object(R.jsxs)(Z.a.Group,{controlId:"differentialId",children:[Object(R.jsx)(Z.a.Label,{children:n("subProcedureDifferential")}),Object(R.jsxs)(Z.a.Control,Object(J.a)(Object(J.a)({as:"select"},a.getFieldProps("differentialId")),{},{isInvalid:!!a.errors.differentialId,children:[Object(R.jsx)("option",{hidden:!0,value:!0,children:n("selectDifferential")},"blankChoice"),r.map((function(e){return Object(R.jsx)("option",{value:e.id,children:e.name},e.id)}))]})),Object(R.jsx)(Z.a.Control.Feedback,{type:"invalid",role:"alert","aria-label":"from feedback",children:a.errors.differentialId})]}),Object(R.jsxs)(Z.a.Group,{className:"mb-3",controlId:"text",children:[Object(R.jsx)(Z.a.Label,{children:n("textToAdd")}),Object(R.jsx)(Z.a.Control,Object(J.a)({as:"textarea",rows:10},a.getFieldProps("text")))]}),Object(R.jsx)(Q.a,{className:"submitButton",type:"submit",children:n("buttonSubmit")})]})},Xt=function(e){var t=e.admin,n=Object(h.a)().t,a=Object(W.h)().id,i=Object(s.b)(),c=Object(r.useState)(!1),o=Object(K.a)(c,2),u=o[0],l=o[1],b=Object(r.useRef)(),j=Object(s.c)((function(e){return e.subProcedures})),f=j.filter((function(e){return e.procedureCaseId===Number(a)})).sort((function(e,t){return e.priority-t.priority})),O={display:u?"":"none"},m=function(e){var t,r,c,s;b.current.toggleVisibility(),i((t=e,r=Number(a),c=n("subProcedureAddSuccess"),s=n("subProcedureAddError"),function(){var e=Object(d.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jt(Object(J.a)(Object(J.a)({},t),{},{procedureCaseId:r}));case 3:a=e.sent,n({type:"ADD_SUBPROCEDURE",data:a}),k(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),N(s);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(R.jsxs)("div",{id:"wrapper",children:[Object(R.jsx)("h2",{children:n("subProcedures")}),t&&Object(R.jsxs)("div",{children:[Object(R.jsx)(Q.a,{className:"addButton",onClick:function(){l(!u)},id:"addNew",children:n("buttonNewSubProcedure")}),Object(R.jsxs)("div",{className:"rows",style:O,children:[Object(R.jsx)(ve,{buttonLabel:n("buttonAddNewText"),titleLabel:n("addTextSubProcedure"),ref:b,children:Object(R.jsx)(Yt,{addSubProcedure:m})}),Object(R.jsx)(Q.a,{className:"addButton question",size:"sm",children:n("buttonAddNewQuestion")}),Object(R.jsx)(ve,{buttonLabel:n("buttonAddNewInterview"),titleLabel:n("addInterviewSubProcedure"),ref:b,children:Object(R.jsx)(Zt,{addSubProcedure:m})}),Object(R.jsx)(ve,{disabled:j.some((function(e){return"CONCLUSION"===e.type})),buttonLabel:n("buttonAddFinalDiagnosis"),titleLabel:n("addConclusionSubProcedure"),ref:b,children:Object(R.jsx)(Qt,{addSubProcedure:m})})]}),Object(R.jsx)(Jt,{listedProcedures:f,admin:t})]})]})},$t=function(){var e=Object(h.a)().t;return Object(R.jsx)("div",{id:"wrapper",children:Object(R.jsx)("h2",{children:e("fileBank")})})},en=n(157),tn=function(){var e=x();return e.responseType="arraybuffer",f.a.get("".concat("/api/files","/").concat(v()),e).then((function(e){return e.data}))},nn=function(){var e=Object(h.a)().t,t=Object(r.useState)(null),n=Object(K.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(null),s=Object(K.a)(c,2),o=s[0],u=s[1],l=Object(r.useState)(1),b=Object(K.a)(l,2),j=b[0],f=b[1];Object(r.useEffect)(Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn();case 2:t=e.sent,i({data:t});case 4:case"end":return e.stop()}}),e)}))),[]);var O=function(e){f((function(t){return t+e}))};return Object(R.jsxs)("div",{id:"wrapper",children:[Object(R.jsxs)("div",{children:[Object(R.jsxs)("p",{children:[e("page"),"\xa0",j||(o?1:"--"),e("of"),o||"--"]}),Object(R.jsx)("button",{type:"button",disabled:j<=1,onClick:function(){O(-1)},children:e("previous")}),Object(R.jsx)("button",{type:"button",disabled:j>=o,onClick:function(){O(1)},children:e("next")})]}),Object(R.jsx)(en.a,{file:a,onLoadSuccess:function(e){var t=e.numPages;u(t),f(1)},children:Object(R.jsx)(en.b,{pageNumber:j})})]})},rn=function(){var e=Object(s.c)((function(e){return e.admin}));return Object(R.jsxs)(W.d,{children:[Object(R.jsx)(W.b,{path:"/howtoplay",children:Object(R.jsx)(Ee,{})}),Object(R.jsx)(W.b,{path:"/profile",children:Object(R.jsx)(ge,{})}),Object(R.jsx)(W.b,{path:"/users",children:e?Object(R.jsx)(Se,{}):Object(R.jsx)(W.a,{to:"/"})}),Object(R.jsx)(W.b,{path:"/cases/:id/procedure/:id",children:Object(R.jsx)(Xt,{admin:e})}),Object(R.jsx)(W.b,{path:"/cases/:id",children:Object(R.jsx)(Gt,{admin:e})}),Object(R.jsx)(W.b,{path:"/files",children:e?Object(R.jsx)($t,{}):Object(R.jsx)(W.a,{to:"/"})}),Object(R.jsx)(W.b,{path:"/privacy",children:Object(R.jsx)(nn,{})}),Object(R.jsx)(W.b,{path:"/",children:Object(R.jsx)(ye,{admin:e})})]})},an=function(){var e=Object(h.a)().t;return Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{style:{display:"block",padding:"40px",height:"60px",width:"100%"}}),Object(R.jsxs)("div",{className:"footer",children:[Object(R.jsx)("hr",{}),Object(R.jsx)(u.b,{to:"/privacy",style:{color:"black"},children:e("privacyNotice")})]})]})},cn=function(){var e=Object(s.b)();return a.a.useEffect((function(){e(function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:n=e.sent,r=n.data,a=n.user,t({type:"INITIALIZE_CASES",data:r}),i=a.token,m="bearer ".concat(i),t({type:"INITIALIZE_USER",data:a.admin});case 8:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(R.jsxs)(u.a,{children:[Object(R.jsx)(H,{}),Object(R.jsx)(q,{}),Object(R.jsx)(U,{}),Object(R.jsx)(rn,{}),Object(R.jsx)(an,{})]})},sn=n(66),on=n(207),un=n(205),dn=n(158),ln=n(206),bn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"INITIALIZE_USER"===t.type?t.data:e},pn={key:"root",storage:n.n(ln).a},jn=Object(sn.combineReducers)({cases:T,admin:bn,procedures:Ae,proceduresUnderCase:Ne,subProcedures:ht,optionGroups:Ct,optionGroupsUnderSubProcedure:wt,options:At,optionsUnderSubProcedure:Dt,differentials:Xe,differentialsUnderCase:He,differentialGroups:st,differentialGroupsUnderCase:et}),fn=Object(dn.a)(pn,jn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var On=function(){var e=Object(sn.createStore)(fn,Object(un.composeWithDevTools)(Object(sn.applyMiddleware)(on.a)));return{store:e,persistor:Object(dn.b)(e)}}(),hn=On.store,mn=On.persistor;c.a.render(Object(R.jsx)(s.a,{store:hn,children:Object(R.jsx)(o.a,{loading:null,persistor:mn,children:Object(R.jsx)(cn,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[364,1,2]]]);
//# sourceMappingURL=main.53530c0a.chunk.js.map